<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="Spaceless"><link rel="alternative" href="/atom.xml" title="Spaceless" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>OI中常用的代码规范 - Spaceless</title>
<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css">
<!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]-->
<script src="/js/jquery-3.1.1.min.js"></script>

<script src="/js/fancybox/jquery.fancybox.min.js"></script>
<meta name="generator" content="Hexo 5.3.0"></head><body style="opacity:0"><header class="head"><h1 class="head-title u-fl"><a href="/">Spaceless</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/tags">Tags</a></li><li class="head-nav__item"><a class="head-nav__link" href="/archives">Archives</a></li><li class="head-nav__item"><a class="head-nav__link" href="/friends">Friends</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"><time class="post__time" datetime="2018-07-14T07:41:29.000Z">2018 - 07 - 14 15:41:29</time><h1 class="post__title"><a href="/2018/07/14/OI_Code_Style/">OI中常用的代码规范</a></h1><div class="post__main echo"><h2 id="本文介绍本人在-OI-中常用的代码规范"><a href="#本文介绍本人在-OI-中常用的代码规范" class="headerlink" title="本文介绍本人在 OI 中常用的代码规范"></a><strong>本文介绍本人在 OI 中常用的代码规范</strong></h2><h3 id="概览"><a href="#概览" class="headerlink" title="概览"></a>概览</h3><p>所有的 <code>#include</code> 指令<strong>必须</strong>放置于整个程序开头<br><strong>在.cpp文件中使用</strong> <code>using namespace std;</code><br><code>main</code> 函数<strong>应该</strong>放置于整个程序末尾<br><strong>不应该</strong>使用 <code>int</code> 代替 <code>bool</code> 表示逻辑值</p>
<h3 id="预编译指令"><a href="#预编译指令" class="headerlink" title="预编译指令"></a>预编译指令</h3><p><code>#include</code> 中,C 标准库头文件<strong>必须</strong>使用 <code>c</code> 前缀,而不是 <code>.h</code> 后缀<br><code>#include</code> 中,C 标准库头文件<strong>应该</strong>放置于 C++ 标准库头文件前,其它头文件（如果有）应放置于最后<br>所有的预编译指令（包括 <code>#ifdef</code> 等）<strong>不能</strong>缩进</p>
<h3 id="缩进"><a href="#缩进" class="headerlink" title="缩进"></a>缩进</h3><p>对于每个代码块,使用 4 空格或等长的Tab转空格(可以尝试Code::Blocks的默认自动缩进)</p>
<h3 id="花括号"><a href="#花括号" class="headerlink" title="花括号"></a>花括号</h3><p>花括号<strong>必须</strong>遵循以下两种写法之一,前一种被称为「花括号不换行」,后一种被称为「花括号换行」<br>对于「花括号不换行」,左花括号的左边<strong>必须</strong>有且仅有一个空格<br>对于「花括号换行」,左花括号<strong>必须</strong>与上一级代码块的缩进相同<br>所有右花括号<strong>必须</strong>与上一级代码块的缩进相同  </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//不换行写法(邪教!)</span></span><br><span class="line"><span class="keyword">if</span> (condition) &#123;</span><br><span class="line">    something;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    something;</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"><span class="comment">//换行写法(正义!)</span></span><br><span class="line"><span class="keyword">if</span> (condition)</span><br><span class="line">&#123;</span><br><span class="line">    something;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    somethng;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="行"><a href="#行" class="headerlink" title="行"></a>行</h3><p>除 <code>for</code> 中的三个语句外,每行<strong>不能</strong>有超过一个语句如果需要一行内求值多个表达式,<strong>可以但减少</strong>使用等效的逗号表达式替代<br>多个意义独立的代码块之间<strong>应该</strong>用空行隔开<br>右花括号前<strong>不应该</strong>有多余的空行</p>
<p><strong>不应该</strong>有两个连续的空行<br>非空行尾<strong>不应该</strong>有多余的空格<br>所有的 <code>#include</code> 指令之后<strong>必须</strong>有一个空行<br>如果有 <code>using namespace std;</code>,则<strong>必须</strong>紧跟在 <code>#include</code> 后的空行后,之后<strong>必须</strong>一个空行<br>函数、成员函数、结构体、全局变量块之间<strong>必须</strong>用空行隔开</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line">  </span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN=<span class="number">100</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXM=<span class="number">200</span>;</span><br><span class="line">  </span><br><span class="line"><span class="keyword">int</span> n,m,a[MAXN+<span class="number">1</span>];</span><br><span class="line"><span class="keyword">double</span> p,q,x,y;</span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    p=<span class="number">1</span>,q=<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><p><code>main</code> 函数的返回值类型<strong>必须</strong>是 <code>int</code>,<strong>不可以</strong>省略 <code>return 0;</code><br>空函数体<em>可以</em>使用 <code>&#123;&#125;</code><br>传参时,<em>应该</em>根据实际需要使用「引用」、「<code>const</code> 引用」和「值传递」</p>
<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><p>在不影响代码可读性的前提下减少变量<br>局部变量<strong>必须</strong>在用时定义,变量名<em>不应该</em>与上一个块中的变量重名,<em>可以</em>与全局变量重名<br>只在一个函数内使用到的需要全局空间（如大数组）或生命周期的变量,<strong>必须</strong>定义为 <code>static</code> 的局部变量</p>
<h3 id="空格"><a href="#空格" class="headerlink" title="空格"></a>空格</h3><p>在不影响代码可读性的前提下减少空格<br><code>||</code> 或 <code>&amp;&amp;</code>之类多条件并列的运算符左右必须要空格<br><code>=</code> <code>+</code> <code>-</code> <code>.</code> <code>-&gt;</code> <code>::</code>之类两边不加空格<br>语句末尾打死不加空格(除非写Markdown)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">if</span>(条件<span class="number">1</span> &amp;&amp; 条件<span class="number">2</span>)</span><br><span class="line">&#123;</span><br><span class="line">    f[i][j]=f[f[i][j<span class="number">-1</span>]][j<span class="number">-1</span>];</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    Edge():x(<span class="number">0</span>)&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="指针与引用"><a href="#指针与引用" class="headerlink" title="指针与引用"></a>指针与引用</h3><p>在描述类型名时,指针符号 <code>*</code> 和引用符号 <code>&amp;</code> 与左侧的类型名之间<strong>必须</strong>有一个空格,与右侧的其它关键字之间<strong>不能</strong>有空格,如 <code>char *const</code> 或 <code>int *&amp;</code><br>在定义变量、函数返回值、参数时,指针符号 <code>*</code> 和引用符号 <code>&amp;</code> 与左侧的类型名之间<strong>必须</strong>有一个空格,与右侧的变量、函数、参数名之间<strong>不能</strong>有空格</p>
<h3 id="命名"><a href="#命名" class="headerlink" title="命名"></a>命名</h3><p>所有结构体、函数、变量、参数名<strong>必须</strong>使用驼峰命名法,其中结构体名首字母<strong>必须</strong>大写,其它首字母<strong>必须</strong>小写<br>为方便,命名中的单词<em>可以</em>使用缩写,函数、变量、参数名<em>可以</em>用一个小写字母代替全局数组<em>可以</em>命名为一个大写字母</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">int</span> aVarWithVeryLongName;</span><br><span class="line">  </span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> dep,s;</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">SegT</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    SegT *lc,*rc;</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">getAns</span><span class="params">(<span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="built_in">std</span>::<span class="built_in">string</span>&gt; &amp;res)</span></span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="模板来自menci的博客"><a href="#模板来自menci的博客" class="headerlink" title="模板来自menci的博客"></a>模板来自menci的博客</h1></div></header><footer class="post__foot u-cf"><ul class="post__tag u-fl"><li class="post__tag__item"><a class="post__tag__link" href="/tags/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/">算法竞赛</a></li></ul></footer></article><div class="comments" id="lv-container" data-id="lv-container" data-uid="MTAyMC8zODA0OC8xNDU3OA=="><script>(function(d, s) {
  var j, e = d.getElementsByTagName(s)[0];
  if (typeof LivereTower === 'function') return;
  j = d.createElement(s);
  j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
  j.async = true;
  e.parentNode.insertBefore(j, e);
})(document, 'script');</script></div></main><footer class="foot"><div class="foot-copy">&copy; 2015 - 2021 Spaceless</div></footer>
<script src="/js/scroller.js"></script>

<script src="/js/main.js"></script>
</body></html>